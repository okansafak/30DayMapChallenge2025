<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>#30DayMapChallenge 2025 - Proje Galerisi</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #1c1e21;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            font-size: 2.5rem;
            color: #1a1a1a;
        }
        .header p {
            font-size: 1.1rem;
            color: #606770;
        }
        .header .tags {
            margin-top: 10px;
        }
        .header .tag {
            display: inline-block;
            background-color: #e7f3ff;
            color: #1877f2;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }
        .card {
            background-color: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
            display: flex;
            flex-direction: column;
            border-left: 5px solid transparent;
        }
        .card a {
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            padding: 20px;
        }
        .card.completed {
             border-left-color: #31a24c;
        }
        .card.completed:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }
        .card.disabled {
            border-left-color: #d1d1d1;
            opacity: 0.6;
            cursor: not-allowed;
        }
        .card.disabled a {
            pointer-events: none;
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        .card-header .day {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1877f2;
        }
        .card-header .date {
            font-size: 0.9rem;
            color: #606770;
        }
        .card-content h3 {
            margin: 0 0 8px 0;
            font-size: 1.2rem;
            color: #1c1e21;
        }
        .card-content p {
            margin: 0;
            font-size: 0.95rem;
            color: #606770;
            line-height: 1.5;
            flex-grow: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>#30DayMapChallenge 2025</h1>
            <p>Kasım ayı boyunca her gün yeni bir harita. İşte benim yolculuğum.</p>
            <div class="tags">
                <span class="tag">#30DayMapChallenge</span>
                <span class="tag">#opengisturkiye</span>
            </div>
        </header>

        <div class="grid" id="challenge-grid">
            <!-- JavaScript burayı otomatik olarak dolduracak -->
        </div>
    </div>

    <script>
        const challenges = [
            { day: 1, date: "01-11-2025", theme: "Points", description: "Etkili sembolleştirme ve yoğunluk görselleştirmesine odaklanan nokta verileri."},
            { day: 2, date: "02-11-2025", theme: "Lines", description: "Yollar, nehirler veya akış hatları gibi doğrusal özelliklerin haritası."},
            { day: 3, date: "03-11-2025", theme: "Polygons", description: "Alan özelliklerine odaklanan koroplet ve desen teknikleri."},
            { day: 4, date: "04-11-2025", theme: "My Data", description: "Mapillary ile İstanbul sokak haritalama - Kişisel sokak görüntüsü verileri.", url: "https://www.mapillary.com/app/user/okansafak?all_coverage=false&lat=41.04396051693354&lng=28.851585594991207&z=11.024768924782123&pKey=385393703060375&mapStyle=Esri+navigation"},
            { day: 5, date: "05-11-2025", theme: "Earth", description: "Yer şekilleri, jeoloji, toprak veya tarım gibi somut unsurlar."},
            { day: 6, date: "06-11-2025", theme: "Dimensions", description: "3B modeller, bina yükseklikleri veya zaman boyutu ile 2D'nin ötesine geçme."},
            { day: 7, date: "07-11-2025", theme: "Accessibility", description: "Erişilebilirlik, seyahat süresi veya toplu taşıma."},
            { day: 8, date: "08-11-2025", theme: "Urban", description: "Yoğun sokak ağları, şehir altyapısı veya nüfus yoğunluğu."},
            { day: 9, date: "09-11-2025", theme: "Analog", description: "Ekrandan uzaklaşarak kalem, boya veya kolaj ile harita yapımı."},
            { day: 10, date: "10-11-2025", theme: "Air", description: "Hava durumu, rüzgar desenleri, hava kirliliği veya hava trafiği."},
            { day: 11, date: "11-11-2025", theme: "Minimal map", description: "Mümkün olan en az öğeyi kullanarak net ve bilgilendirici bir harita."},
            { day: 12, date: "12-11-2025", theme: "Map from 2125", description: "100 yıl sonra haritaların nasıl görüneceğine dair spekülatif bir tasarım."},
            { day: 13, date: "13-11-2025", theme: "10 minute map", description: "Tasarım ve üretim için maksimum 10 dakika süren hızlı bir harita."},
            { day: 14, date: "14-11-2025", theme: "OpenStreetMap", description: "Birincil kaynak olarak OpenStreetMap verilerini kullanma."},
            { day: 15, date: "15-11-2025", theme: "Fire", description: "Isı, orman yangınları, enerji tüketimi veya volkanik aktivite."},
            { day: 16, date: "16-11-2025", theme: "Cell", description: "Coğrafi hücreler (raster, mozaik) veya hücresel ağlar."},
            { day: 17, date: "17-11-2025", theme: "A new tool", description: "Daha önce hiç kullanılmamış bir yazılım, kütüphane veya teknik deneme."},
            { day: 18, date: "18-11-2025", theme: "Out of this world", description: "Dünya dışı bir yerin haritası: fantezi diyarları, gezegenler veya uzay."},
            { day: 19, date: "19-11-2025", theme: "Projections", description: "Sıra dışı veya yanlış anlaşılmış bir harita projeksiyonuna odaklanma."},
            { day: 20, date: "20-11-2025", theme: "Water", description: "Hidroloji, okyanuslar, akıntılar veya deniz seviyesinin yükselmesi."},
            { day: 21, date: "21-11-2025", theme: "Icons", description: "Ana odak noktası olarak ikonların, piktogramların veya özel sembollerin kullanıldığı bir harita."},
            { day: 22, date: "22-11-2025", theme: "Natural Earth", description: "Görsel olarak çarpıcı bir dünya veya kıta haritası için Natural Earth veri setini kullanma."},
            { day: 23, date: "23-11-2025", theme: "Process", description: "Bir haritanın nasıl yapıldığını gösterme: öğretici, adım adım grafik veya video."},
            { day: 24, date: "24-11-2025", theme: "Places and their names", description: "Tipografi, etiket yerleşimi ve yer adlarının kökeni üzerine odaklanma."},
            { day: 25, date: "25-11-2025", theme: "Hexagons", description: "Veri görselleştirmesi için altıgen gruplama (hexbins) kullanma."},
            { day: 26, date: "26-11-2025", theme: "Transport", description: "Hareketlilik, trafik akışı veya sürdürülebilir ulaşım seçenekleri."},
            { day: 27, date: "27-11-2025", theme: "Boundaries", description: "Siyasi, fiziksel, ekolojik veya kavramsal ayrım çizgileri."},
            { day: 28, date: "28-11-2025", theme: "Black", description: "Siyah temasının yorumlanması: monokromatik, yokluk veya karanlık."},
            { day: 29, date: "29-11-2025", theme: "Raster", description: "Uydu görüntüleri, yükseklik modelleri veya piksel tabanlı sanat."},
            { day: 30, date: "30-11-2025", theme: "Makeover", description: "Ay içinde yapılan bir haritayı yeniden tasarlama ve iyileştirme."}
        ];

        const grid = document.getElementById('challenge-grid');

        // --- YENİ VE OTOMATİK ÇALIŞAN KOD ---

        // Bu asenkron fonksiyon, tüm dosya kontrollerini yapar ve ardından kartları oluşturur.
        async function buildChallengeGrid() {
            // Her gün için bir dosya varlığı kontrolü (promise) oluştur.
            const checkPromises = challenges.map(challenge => {
                // Eğer challenge'ın kendi URL'i varsa, bunu kullan (harici link için)
                if (challenge.url) {
                    return Promise.resolve(true); // Harici linkler her zaman aktif
                }
                
                const dayStr = challenge.day.toString().padStart(2, '0');
                const url = `maps/day${dayStr}.html`;
                
                // 'HEAD' metodu, dosyanın tamamını indirmeden sadece var olup olmadığını kontrol eder.
                return fetch(url, { method: 'HEAD' })
                    .then(response => response.ok) // Dosya varsa (status 200), 'true' döner.
                    .catch(() => false); // Dosya yoksa (status 404) veya hata varsa, 'false' döner.
            });

            // Tüm kontrol işlemlerinin bitmesini bekle.
            const results = await Promise.all(checkPromises); // Örn: [true, false, false, ...]

            // Sonuçlara göre kartları oluştur.
            challenges.forEach((challenge, index) => {
                const isCompleted = results[index]; // O günün dosyası var mı?
                const dayStr = challenge.day.toString().padStart(2, '0');
                
                const card = document.createElement('div');
                const cardClass = isCompleted ? 'card completed' : 'card disabled';
                
                // Harici URL varsa onu kullan, yoksa yerel HTML dosyasını kullan
                const linkHref = challenge.url ? challenge.url : (isCompleted ? `maps/day${dayStr}.html` : '#');
                const linkTarget = challenge.url ? '_blank' : '_self';
                
                card.className = cardClass;
                card.innerHTML = `
                    <a href="${linkHref}" target="${linkTarget}">
                        <div class="card-header">
                            <span class="day">Gün ${dayStr}</span>
                            <span class="date">${challenge.date}</span>
                        </div>
                        <div class="card-content">
                            <h3>${challenge.theme}</h3>
                            <p>${challenge.description}</p>
                        </div>
                    </a>
                `;
                grid.appendChild(card);
            });
        }

        // Sayfa yüklendiğinde fonksiyonu çalıştır.
        buildChallengeGrid();

    </script>
</body>
</html>